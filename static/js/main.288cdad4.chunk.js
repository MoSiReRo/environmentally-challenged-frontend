(this["webpackJsonpenvironmentally-challenged-frontend"]=this["webpackJsonpenvironmentally-challenged-frontend"]||[]).push([[0],{26:function(e,t,a){e.exports=a(61)},31:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(10),s=a.n(c),o=(a(31),a(1)),r=a(2),i=a(4),h=a(3),u=a(5),d=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 counter"},"Trees ",l.a.createElement("br",null)," Planted: ",l.a.createElement("br",null)," ",l.a.createElement("span",{style:{fontWeight:"500",fontSize:"2.5em",lineHeight:"1.1"}},Math.floor(this.props.treeCounter/21))))}}]),t}(l.a.Component),p=a(8),m=a.n(p),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(h.a)(t).call(this,e))).state={currentDate:new Date,markedDate:m()(new Date).format("DD-MM_YYYY")},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"callMe",value:function(){var e=this;setInterval((function(){e.setState({date:new Date})}),1e3)}},{key:"render",value:function(){var e=m()().format("dddd"),t=m()().format("D MMMM YYYY"),a=m()().format("h:mm a");return l.a.createElement("div",{className:"col-md-3 dateTime"},l.a.createElement("span",{style:{fontWeight:"500"}},e," ",t)," ",l.a.createElement("br",null)," ",a,this.callMe())}}]),t}(l.a.Component),g=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-md-9 title"},l.a.createElement("h1",null,"Environmentally ",l.a.createElement("br",null),"Challenged")),l.a.createElement(y,null))}}]),t}(l.a.Component),f=a(24),v=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.counter%21;return l.a.createElement("div",null,l.a.createElement(f.a,{value:e,maxValue:21,text:"Completed: ".concat(e)}))}}]),t}(l.a.Component),b=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e,t=this.props.isEndOfDay,a=this.props.successfulDay;return e=t&&a?"Well done! See you tomorrow!":t&&!1===a?"Try again tomorrow - see you then!":"Today's Challenge: \n".concat(this.props.todaysChallenge.challengeDesc),l.a.createElement("div",null,l.a.createElement("p",{style:{fontWeight:"500",lineHeight:"1.1em",paddingTop:"0.3em"}},e))}}]),t}(l.a.Component),E=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"col-12 tipHint d-none d-md-block"},this.props.todaysChallengeTip)}}]),t}(l.a.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.newChallengeFunc,a=e.challengeAcceptedFunc,n=e.isAccepted,c=e.challengeCompletedFunc,s=e.finishDayFunc,o=e.isEndOfDay;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 leftButtonBox"},!o&&l.a.createElement("input",{type:"button",className:"btn accept",value:n?"I did it!":"Accept",onClick:n?c:a})),l.a.createElement("div",{className:"col-6 rightButtonBox"},!o&&l.a.createElement("input",{type:"button",className:"btn tryAnother",value:n?" Try another time":"Try Another",onClick:n?s:t})))}}]),t}(l.a.Component),O=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 graph challenge"},l.a.createElement(v,{counter:this.props.counter}),l.a.createElement(b,{todaysChallenge:this.props.todaysChallenge,newChallengeFunc:this.props.newChallengeFunc,isEndOfDay:this.props.isEndOfDay,successfulDay:this.props.successfulDay}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 boxForButtons"},l.a.createElement(C,{newChallengeFunc:this.props.newChallengeFunc,challengeAcceptedFunc:this.props.challengeAcceptedFunc,challengeCompletedFunc:this.props.challengeCompletedFunc,isAccepted:this.props.isAccepted,isEndOfDay:this.props.isEndOfDay,successfulDay:this.props.successfulDay,finishDayFunc:this.props.finishDayFunc})),l.a.createElement(E,{todaysChallengeTip:this.props.todaysChallenge.tips})))}}]),t}(l.a.Component),w=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-md-3 tipHintMobile d-lg-none d-md-none"},this.props.todaysChallengeTip))}}]),t}(l.a.Component),j=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9 col-md-8 col-lg-9 footer footerText"},l.a.createElement("span",{style:{fontWeight:"500"}},"Environmentally Challenged")," collaborates with ",l.a.createElement("span",{style:{fontWeight:"500"}},"ABC"),", a tree-planting organisation who plant real trees on Earth.",l.a.createElement("br",null),"When you complete ",l.a.createElement("span",{style:{fontWeight:"500"}},"21 challenges"),", not only do you make a difference, they'll go out and plant a real tree."),l.a.createElement("div",{className:"col-3 col-md-4 col-lg-3 footer"},l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("button",{type:"button",className:"btn themesButton",onClick:this.props.yourProgressButton},"Progress")),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("button",{type:"button",className:"btn themesButton",onClick:this.props.changeThemes},"Themes")))))}}]),t}(l.a.Component),D=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e,t=this.props.completedChallenges.length;e="styles.css"===this.props.stylePath?"\u2b50":"styleFerns.css"===this.props.stylePath?"\ud83c\udf3f":"\u2606";var a,n=this.props.completedChallenges.map((function(t,a){return l.a.createElement("p",{key:t.challengeId},e," ",t.challengeDesc," ",e)}));return a=0===t?"You haven't completed any challenges yet. \nWhy not give it a go? Helping to save the world is easier than you think!":1===t?"You've completed 1 challenge so far. \nThat's a great start, why not try a few more?":t>1&&t<7?"You've completed ".concat(t," challenges so far. \nThat's a great start, why not try a few more?"):t>=7&&t<21?"You've completed ".concat(t," challenges so far. \nWow, great job! Keep up all the great work."):t>=21&&t<42?"You've completed ".concat(t," challenges so far. \nIncredible! That means we've planted one tree thanks to you.\nYour actions are making a huge difference to the world."):t>=42?"You've completed ".concat(t," challenges so far. \nIncredible! That means we've planted ").concat(Math.floor(t/21)," trees thanks to you.\nYour actions are making a huge difference to the world."):"You've completed ".concat(t," challenges so far."),l.a.createElement("div",null,l.a.createElement("button",{className:"close",type:"button",onClick:this.props.closeModalFunc},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"),l.a.createElement("span",{class:"sr-only"},"Close")),l.a.createElement("p",{className:"ModalTitle"},"Your Progress"),l.a.createElement("p",{className:"ModalText"},a),l.a.createElement("p",{className:"ModalText"},n,l.a.createElement("button",{className:"btn closeModalButton",onClick:this.props.closeModalFunc},"Close")))}}]),t}(l.a.Component),k=a(7),M=a.n(k),N=a(25),T=a.n(N),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={uncompletedChallenges:[],completedChallenges:[],todaysChallenge:{challengeId:"1",challengeDesc:"None selected yet - click 'Try Another'",completed:0,userId:1,accepted:0,tips:"Be the change you want to see in the world"},isAccepted:!1,isCompleted:!1,isEndOfDay:!1,successfulDay:!1,stylePath:"styles.css",showModal:!1},a.newChallenge=function(){var e=a.state.uncompletedChallenges,t=e[Math.floor(Math.random()*e.length)];return a.setState({todaysChallenge:t}),t},a.challengeAccepted=function(){var e=a.state.todaysChallenge,t=e.challengeId;e.accepted=1,M.a.put("https://wqsn40ohub.execute-api.eu-west-2.amazonaws.com/dev/challenge/".concat(t),e).then((function(t){a.setState({todaysChallenge:e,isAccepted:!0})})).catch((function(t){console.error(t),console.log(e)}))},a.challengeCompleted=function(){var e=a.state.todaysChallenge,t=e.challengeId;e.completed=1,M.a.put("https://wqsn40ohub.execute-api.eu-west-2.amazonaws.com/dev/challenge/".concat(t),e).then((function(t){a.setState({todaysChallenge:e,isCompleted:!0,isEndOfDay:!0,successfulDay:!0});var n=a.state.completedChallenges;n.push(e),a.setState({completedChallenges:n})})).catch((function(e){console.error(e)}))},a.finishDay=function(){var e=a.state.todaysChallenge,t=e.challengeId;e.completed=0,e.accepted=0,M.a.put("https://wqsn40ohub.execute-api.eu-west-2.amazonaws.com/dev/challenge/".concat(t),e).then((function(e){a.setState({isEndOfDay:!0})})).catch((function(t){console.error(t),console.log(e)}))},a.changeStyles=function(){"styles.css"===a.state.stylePath?a.setState({stylePath:"styleFerns.css"}):"styleFerns.css"===a.state.stylePath?a.setState({stylePath:"styleAccessibility.css"}):"styleAccessibility.css"===a.state.stylePath&&a.setState({stylePath:"styles.css"})},a.handleOpenModal=function(){a.setState({showModal:!0})},a.handleCloseModal=function(){a.setState({showModal:!1})},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){setInterval(this.date,1e3)}},{key:"componentDidMount",value:function(){var e=this;M.a.get("https://wqsn40ohub.execute-api.eu-west-2.amazonaws.com/dev/challenge").then((function(t){var a=t.data.challenge.filter((function(e){return 0===e.completed})),n=t.data.challenge.filter((function(e){return 1===e.completed}));e.setState({uncompletedChallenges:a,completedChallenges:n})})).catch((function(e){console.error(e)})),M.a.get("https://wqsn40ohub.execute-api.eu-west-2.amazonaws.com/dev/accepted-challenge").then((function(t){var a=t.data.challenge[0];void 0!==a&&e.setState({todaysChallenge:a,isAccepted:!0})})).catch((function(e){console.error(e)}));var t,a=(new Date).getTime(),n=(new Date).setHours(20,37,0,0);t=a<n?n-a:n+864e5-a,this.interval=setInterval((function(){return e.newChallenge()}),864e5),this.timeout=setTimeout((function(){return e.newChallenge()}),t)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"/environmentally-challenged-frontend/"+this.state.stylePath}),l.a.createElement(g,null),l.a.createElement(d,{treeCounter:this.state.completedChallenges.length}),l.a.createElement(T.a,{isOpen:this.state.showModal,contentLabel:"Your Progress Modal",closeTimeoutMS:200,className:"Modal"},l.a.createElement(D,{completedChallenges:this.state.completedChallenges,closeModalFunc:this.handleCloseModal,stylePath:this.state.stylePath})),l.a.createElement(O,{todaysChallenge:this.state.todaysChallenge,newChallengeFunc:this.newChallenge,challengeAcceptedFunc:this.challengeAccepted,challengeCompletedFunc:this.challengeCompleted,isAccepted:this.state.isAccepted,isEndOfDay:this.state.isEndOfDay,successfulDay:this.state.successfulDay,finishDayFunc:this.finishDay,counter:this.state.completedChallenges.length}),l.a.createElement(w,{todaysChallengeTip:this.state.todaysChallenge.tips}),l.a.createElement(j,{changeThemes:this.changeStyles,yourProgressButton:this.handleOpenModal}))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.288cdad4.chunk.js.map